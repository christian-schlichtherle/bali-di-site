(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{304:function(t,a,e){"use strict";e.r(a);var s=e(14),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",[a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/releases/latest"}},[a("img",{attrs:{src:"https://img.shields.io/github/release/christian-schlichtherle/bali-di-scala.svg",alt:"Release Notes"}})]),t._v(" "),a("a",{attrs:{href:"https://search.maven.org/artifact/global.namespace.bali/bali-scala_2.13"}},[a("img",{attrs:{src:"https://img.shields.io/maven-central/v/global.namespace.bali/bali-scala_2.13",alt:"Maven Central"}})]),t._v(" "),a("a",{attrs:{href:"https://www.apache.org/licenses/LICENSE-2.0"}},[a("img",{attrs:{src:"https://img.shields.io/github/license/christian-schlichtherle/bali-di-scala.svg",alt:"Apache License 2.0"}})]),t._v(" "),a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/actions?query=workflow%3Atest"}},[a("img",{attrs:{src:"https://github.com/christian-schlichtherle/bali-di-scala/workflows/test/badge.svg",alt:"Test Workflow"}})])]),t._v(" "),a("h1",{attrs:{id:"scala-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scala-guide"}},[t._v("#")]),t._v(" Scala Guide")]),t._v(" "),a("p",[t._v("Bali DI for Scala is a pure def macro which transforms the abstract syntax tree to automate dependency injection.\nIt currently supports Scala 2.12 and 2.13, with Scala 3 on the roadmap.")]),t._v(" "),a("p",[t._v("This project is a sibling of "),a("RouterLink",{attrs:{to:"/guide/java.html"}},[t._v("Bali DI for Java")]),t._v(".\nAs a sibling, it is based on the exact same concepts and aims for feature parity.")],1),t._v(" "),a("blockquote",[a("p",[t._v("Bali is also an "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Bali",target:"_blank",rel:"noopener noreferrer"}},[t._v("island"),a("OutboundLink")],1),t._v(' between Java and Lombok in Indonesia.\nFor disambiguation, the name of this project is "Bali DI", not just "Bali", where DI is an acronym for\n'),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Dependency_injection",target:"_blank",rel:"noopener noreferrer"}},[a("em",[t._v("dependency injection")]),a("OutboundLink")],1),t._v('.\nIn code however, the term "DI" is dropped because there is no ambiguity in this context.')])]),t._v(" "),a("h2",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting Started")]),t._v(" "),a("p",[t._v("Bali DI for Scala is implemented as a def macro for the Scala compiler.\nIf you use SBT, you need to add the following dependency to your project:")]),t._v(" "),a("div",{staticClass:"language-sbt extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('libraryDependencies += "global.namespace.bali" %% "bali-scala" % "0.5.3" % Provided\n')])])]),a("p",[t._v("Note that this is a compile-time-only dependency - there is no runtime dependency of your code on Bali DI for Scala!")]),t._v(" "),a("h2",{attrs:{id:"sample-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sample-code"}},[t._v("#")]),t._v(" Sample Code")]),t._v(" "),a("p",[t._v("This project uses a modular build.\nThe module "),a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/tree/main/scala-sample",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("bali-scala-sample")]),a("OutboundLink")],1),t._v("\nprovides lots of sample code showing how to use the annotations and generated source code.\nThe module is not published on Maven Central however - it is only available as source code.\nYou can browse the source code\n"),a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/tree/main/scala-sample/src/main/scala/bali/scala/sample",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v("\nor clone this project.")]),t._v(" "),a("p",[t._v("The module is split into different packages with each package representing an individual, self-contained showcase.\nFor example, the package\n"),a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/tree/main/scala-sample/src/main/scala/bali/scala/sample/greeting",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("bali.scala.sample.greeting")]),a("OutboundLink")],1),t._v('\nshowcases a glorified way to produce a simple "Hello world!" message by using different components with dependency\ninjection.')]),t._v(" "),a("h2",{attrs:{id:"tutorial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tutorial"}},[t._v("#")]),t._v(" Tutorial")]),t._v(" "),a("h3",{attrs:{id:"weatherstation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weatherstation"}},[t._v("#")]),t._v(" WeatherStation")]),t._v(" "),a("blockquote",[a("p",[t._v("The source code shown in this section is available\n"),a("a",{attrs:{href:"https://github.com/christian-schlichtherle/bali-di-scala/tree/main/scala-sample/src/main/scala/bali/scala/sample/weatherstation",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("p",[t._v("Let's define our first component:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" Clock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Date\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("In a component type, every abstract member is a dependency, so the "),a("code",[t._v("Clock")]),t._v(" trait has a single dependency named "),a("code",[t._v("now")]),t._v("\nwith type "),a("code",[t._v("Date")]),t._v(".\nWe want our clock to return a fresh "),a("code",[t._v("Date")]),t._v(" on every call, so "),a("code",[t._v("now")]),t._v(" is declared as a "),a("code",[t._v("def")]),t._v(".\nThis component doesn't have any domain logic, so there are no other members.")]),t._v(" "),a("p",[t._v("Next, let's look at a more advanced component and its companion object:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bali"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Lookup\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("U "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Unit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Lookup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tempValue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Float")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Lookup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tempUnit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" U "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (2)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" toString"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token id function"}},[t._v("f")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("value")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("%.1fËš ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("unit")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")]),t._v(" Temperature "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sealed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Unit")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Celsius "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")]),t._v(" Celsius "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Unit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" toString"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Fahrenheit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Fahrenheit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")]),t._v(" Fahrenheit "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Unit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" toString"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"F"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The component trait "),a("code",[t._v("Temperature")]),t._v(" has two abstract members and thus, two dependencies:")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("value")]),t._v(", with type "),a("code",[t._v("Float")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("unit")]),t._v(", with type "),a("code",[t._v("U <: Temperature.Unit")]),t._v(".")])]),t._v(" "),a("p",[t._v("We want our temperature instances to be immutable, so both members are declared as a "),a("code",[t._v("val")]),t._v(".")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("@Lookup")]),t._v(" annotation on each dependency defines an alias name for it.\nThis is used to bind each dependency to some element in some module context - more on that later.")]),t._v(" "),a("p",[t._v("Next, let's look at our last component:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("U "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Unit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" Clock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("U"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" toString"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token id function"}},[t._v("s")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("now")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(": ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("temp")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("This component also has two dependencies:")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("now")]),t._v(", with type "),a("code",[t._v("Date")]),t._v(", inherited from trait "),a("code",[t._v("Clock")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("temp")]),t._v(", with type "),a("code",[t._v("Temperature[U]")]),t._v(".")])]),t._v(" "),a("p",[t._v("We want our weather station to return a fresh "),a("code",[t._v("Temperature")]),t._v(" on each call, so "),a("code",[t._v("temp")]),t._v(" is declared as a "),a("code",[t._v("def")]),t._v(" again.")]),t._v(" "),a("blockquote",[a("p",[t._v("Note that the component trait "),a("code",[t._v("WeatherStation")]),t._v(" reuses the component trait "),a("code",[t._v("Clock")]),t._v(" by inheritance and the component\ntrait "),a("code",[t._v("Temperature")]),t._v(" by composition:\nThere is no limitation on how you arrange component types into a larger dependency graph.\nBecause dependencies are resolved just-in-time, your dependency graph may even be circular!")])]),t._v(" "),a("p",[t._v("Eventually, all the abstract methods in the components you've seen so far get implemented in a very simple manner by\nforwarding the call as-is to some module context.\nSo for example, the abstract method "),a("code",[t._v("now")]),t._v(" in the component trait "),a("code",[t._v("Clock")]),t._v(" gets implemented as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now\n")])])]),a("p",[t._v("Likewise, if a dependency is declared as a "),a("code",[t._v("val")]),t._v(", then it gets implemented as a "),a("code",[t._v("lazy val")]),t._v(".\nSo for example, the abstract method "),a("code",[t._v("value")]),t._v(" in the component trait "),a("code",[t._v("Temperature")]),t._v(" gets implemented as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Float")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tempValue\n")])])]),a("p",[t._v("Note that the implementation respects the alias defined by the "),a("code",[t._v('@Lookup("tempValue")')]),t._v(" annotation before.")]),t._v(" "),a("blockquote",[a("p",[t._v("Also, note that a dependency may have type parameters and parameter lists:\nThe parameter lists are also forwarded in this case - more on that later.")])]),t._v(" "),a("p",[t._v("In Scala, a module context is either:")]),t._v(" "),a("ol",[a("li",[t._v("Any place in your code where you call the "),a("code",[t._v("def")]),t._v(" macro "),a("code",[t._v("bali.scala.make")]),t._v(", or")]),t._v(" "),a("li",[t._v("any type annotated with "),a("code",[t._v("@bali.Module")]),t._v(".")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("make")]),t._v(" macro implements a module in place by creating an instance of an anonymous inner class which extends it type\nparameter and then implementing all abstract methods as shown before.")]),t._v(" "),a("p",[t._v("Let's look at an example:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bali"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scala"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")]),t._v(" MyApp "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" App "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("=>")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Date\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" clock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Clock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The line with the call to "),a("code",[t._v("make[Clock]")]),t._v(" gets expanded as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" clock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Clock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("Note that if the type to make isn't abstract, then no anonymous inner class is created, and the default constructor is\ncalled instead.\nSo for example, a call to "),a("code",[t._v("make[Date]")]),t._v(" simply gets expanded to "),a("code",[t._v("new Date")]),t._v(".")])]),t._v(" "),a("p",[t._v("With this in mind, let's look at the module type for our weather station:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bali"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Module\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("ThreadLocalRandom\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Module")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" WeatherStationModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" april"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (2)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (3)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" tempValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Float")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ThreadLocalRandom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextDouble"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toFloat\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" tempUnit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Celsius\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Like a component type, a module type can also have abstract members (numbered 1 to 3 in this case).\nThe difference is that in a module type, its abstract methods get implemented as a recursive call to the "),a("code",[t._v("make")]),t._v("\nmacro.\nSo for example, the abstract method "),a("code",[t._v("now")]),t._v(" (no. 2 in the previous example) gets implemented as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (2)")]),t._v("\n")])])]),a("p",[t._v("The call to "),a("code",[t._v("make[Date]")]),t._v(" is then recursively expanded to "),a("code",[t._v("new Date")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("Why is this a recursive call?\nBecause you need to call "),a("code",[t._v("make[WeatherStationModule]")]),t._v(" in order to let it implement the method "),a("code",[t._v("now")]),t._v(" in the first\nplace!")])]),t._v(" "),a("p",[t._v("Finally, let's look at some test code for our module:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bali"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scala"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bali"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scala"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weatherstation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Celsius\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scalatest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("matchers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("should"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Matchers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scalatest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wordspec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("AnyWordSpec\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Date\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" WeatherStationModuleSpec "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" AnyWordSpec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A WeatherStationModule"')]),t._v(" should "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" module "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WeatherStationModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_\n\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"report typical April weather"')]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      april"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now should not be theSameInstanceAs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("april"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Date should be "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" april"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" april"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("temp\n      temp should not be theSameInstanceAs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("april"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value shouldBe temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n      temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value should be "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5f")]),t._v("\n      temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value should be "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25f")]),t._v("\n      temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unit shouldBe temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unit\n      temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unit shouldBe Celsius\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Putting all the puzzle pieces together, we can conclude that the line with the call to "),a("code",[t._v("make[WeatherStationModule]")]),t._v(" gets\nexpanded by the macro as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" module "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" WeatherStationModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" april"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Next, another round is started to recursively expand the generated "),a("code",[t._v("make[...]")]),t._v(" calls and form the final result:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" module "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" WeatherStationModule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("=>")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" april"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" WeatherStation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("temp\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Date\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Celsius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Float")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tempValue\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lazy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" unit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Celsius "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tempUnit\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("As you can see, Bali DI automates the generation of a lot of boilerplate code for you, but there's much more to it\nthan just that.\nFor a general discussion of its design concept, features and benefits please check the "),a("RouterLink",{attrs:{to:"/guide/overview.html"}},[t._v("Overview")]),t._v(" page.")],1)])}),[],!1,null,null,null);a.default=n.exports}}]);